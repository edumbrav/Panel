(this.webpackJsonphosteriacliente=this.webpackJsonphosteriacliente||[]).push([[0],{200:function(e,a,t){"use strict";t.r(a);var c=t(2),n=t(79),r=t.n(n),o=(t(89),t(4)),l=t(6),s=t(33),i=(t(202),t(201),{apiKey:"AIzaSyAdUEfnAG4sMYl5bN-iYwWRW7M07fBf2hk",authDomain:"hosteria-95a60.firebaseapp.com",projectId:"hosteria-95a60",storageBucket:"hosteria-95a60.appspot.com",messagingSenderId:"542004704893",appId:"1:542004704893:web:e58870315ae52c054c6314",measurementId:"G-80DEZ5YFN2"}),d=new function e(){Object(l.a)(this,e),s.a.apps.length||s.a.initializeApp(i),this.db=s.a.firestore(),this.storage=s.a.storage()},b=Object(c.createContext)(),u=d,m=t(22),j=t(5),h=t(1),x=function(e){var a=e.reserva,t=Object(c.useState)(0),n=Object(j.a)(t,2),r=n[0],o=n[1],l=Object(c.useContext)(b).firebase;return Object(h.jsx)("div",{className:"sm:w-1/2 lg:w-1/3 px-2 mb-4",children:Object(h.jsxs)("div",{className:"p-3 shadow-md bg-white",children:[Object(h.jsx)("h1",{className:"text-gray-800 text-lg font-bold",children:a.id}),a.orden.map((function(e){return Object(h.jsxs)("p",{className:"text-gray-600",children:[e.cantidad," ",e.nombre]})})),Object(h.jsxs)("p",{className:"text-gray-700 font-bold",children:["Total a Pagar: $ ",a.total]}),0===a.tiempo&&Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Tiempo para confirmar su reserva"}),Object(h.jsx)("input",{type:"number",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",min:"1",max:"200000000000000000",placeholder:"20000000",value:r,onChange:function(e){return o(parseInt(e.target.value))}}),Object(h.jsx)("button",{onClick:function(){return function(e){try{l.db.collection("ordenes").doc(e).update({tiempo:r})}catch(a){console.log(a)}}(a.id)},type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold",children:"Definir tiempo"})]}),a.tiempo>0&&Object(h.jsxs)("p",{className:"text-gray-500",children:["Tiempo para confirmar reserva:",Object(h.jsxs)("span",{className:"font-bold",children:[a.tiempo,"Minutos"]})]}),!a.completado&&a.tiempo>0&&Object(h.jsx)("button",{type:"button",className:"bg-blue-800 hover:bg-blue-700 w-full mt-5 p-2 text-white uppercase font-bold",onClick:function(){return function(e){try{l.db.collection("ordenes").doc(e).update({completado:!0})}catch(a){console.log(a)}}(a.id)},children:"Marcar como lista"})]})})},p=function(){var e=Object(c.useContext)(b).firebase,a=Object(c.useState)([]),t=Object(j.a)(a,2),n=t[0],r=t[1];function o(e){var a=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));r(a)}return Object(c.useEffect)((function(){e.db.collection("ordenes").where("completado","==",!1).onSnapshot(o)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4",children:"Reservas"}),Object(h.jsx)("div",{className:"sm:flex sm:flex-wrap -mx-3",children:n.map((function(e){return Object(h.jsx)(x,{reserva:e},e.id)}))})]})},g=t(11),f=function(e){var a=e.habitacion,t=Object(c.useRef)(a.existencia),n=Object(c.useContext)(b).firebase,r=a.id,o=a.nombre,l=a.imagen,s=a.existencia,i=a.categoria,d=a.precio,u=a.descripcion;return Object(h.jsx)("div",{className:"w-full px-3 mb-4",children:Object(h.jsx)("div",{className:"p-5 shadow-md bg-white",children:Object(h.jsxs)("div",{className:"lg:flex",children:[Object(h.jsxs)("div",{className:"lg:w-5/12 xl:w-3/12",children:[Object(h.jsx)("img",{src:l,alt:"imagen habitacion"}),Object(h.jsx)("div",{className:"sm:flex sm:-mx-2 pl-2",children:Object(h.jsxs)("label",{className:"block mt-5 sm:w-2/4",children:[Object(h.jsx)("span",{className:"block text-gray-800 mb-2",children:"Existencia"}),Object(h.jsxs)("select",{className:"bg-white shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",value:s,ref:t,onChange:function(){return function(){var e="true"===t.current.value;try{n.db.collection("productos").doc(r).update({existencia:e})}catch(a){console.log(a)}}()},children:[Object(h.jsx)("option",{value:"true",children:"Disponible"}),Object(h.jsx)("option",{value:"false",children:"No Disponible"})]})]})})]}),Object(h.jsxs)("div",{className:"lg:w-7/12 xl:w-9/12 pl-5",children:[Object(h.jsx)("p",{className:"font-bold text-2xl text-gray-800 mb-4",children:o}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Categoria: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:[" ",i.toUpperCase()," "]})]}),Object(h.jsx)("p",{className:"text-gray-600 mb-4",children:u}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Precio: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  $ ",d," "]})]})]})]})})})},O=function(){var e=Object(c.useState)([]),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(c.useContext)(b).firebase;function o(e){var a=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));n(a)}return Object(c.useEffect)((function(){r.db.collection("productos").onSnapshot(o)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4",children:"menu"}),Object(h.jsx)(g.b,{to:"/NuevoRoom",className:" bg-blue-800 hover:bg-blue-700, inline-block mb-5 p-2 text-white uppercase font-bold",children:"Agregar Habitacion"}),t.map((function(e){return Object(h.jsx)(f,{habitacion:e},e.id)}))]})},v=t(16),N=t.n(v),w=t(26),y=t(28),C=t(7),D=t(27),S=t.n(D),k=function(){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(c.useState)(0),l=Object(j.a)(r,2),s=l[0],i=l[1],d=Object(c.useState)(""),u=Object(j.a)(d,2),m=u[0],x=u[1],p=Object(c.useContext)(b).firebase,g=Object(o.g)(),f=Object(y.a)({initialValues:{nombre:"",precio:"",categoria:"",imagen:"",descripcion:""},validationSchema:C.b({nombre:C.c().min(3,"Las habitaciones deben tener al menos 3 caracteres").required("El nombre de la habitacion es obligatorio"),precio:C.a().min(1,"Debes agregar un numero").required("El precio de la habitacion es obligatorio"),categoria:C.c().required("La categoria de la habitacion es obligatorio"),descripcion:C.c().min(10,"La descripcion debe ser mas larga").required("La descripcion de la habitacion es obligatorio")}),onSubmit:function(e){try{e.existencia=!0,e.imagen=m,p.db.collection("productos").add(e),g("/Menu")}catch(a){console.log(a)}}}),O=function(){var e=Object(w.a)(N.a.mark((function e(a){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(100),n(!1),e.next=4,p.storage.ref("productos").child(a).getDownloadURL();case 4:t=e.sent,console.log(t),x(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4"}),Object(h.jsx)("div",{className:"flex justify-center mt-10",children:Object(h.jsx)("div",{className:"w-full max-w-3xl ",children:Object(h.jsxs)("form",{onSubmit:f.handleSubmit,children:[Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre",children:"Nombre"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"nombre",type:"text",placeholder:"Nombre habitacion",value:f.values.nombre,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.nombre&&f.errors.nombre?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.nombre})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"precio",children:"Precio"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"precio",type:"number",placeholder:"Nombre $20",min:"0",value:f.values.precio,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.precio&&f.errors.precio?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.precio})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"imagen",children:"Imagen/"}),Object(h.jsx)(S.a,{accept:"image/*",id:"imagen",name:"imagen",randomizeFilename:!0,storageRef:p.storage.ref("productos"),onUploadStart:function(){i(0),n(!0)},onUploadError:function(e){n(!1),console.log(e)},onUploadSuccess:O,onProgress:function(e){i(e),console.log(e)}})]}),t&&Object(h.jsx)("div",{className:"h-12 relative w-full border",children:Object(h.jsxs)("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",style:{width:"${progreso}%"},children:[s," %"]})}),m&&Object(h.jsx)("p",{className:"bg-green-500 text-white p-3 text-center my-5",children:"La imagen se subio correctamente"}),Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categoria",children:"Categoria"}),Object(h.jsxs)("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"precio",name:"categoria",value:f.values.categoria,onChange:f.handleChange,onBlur:f.handleBlur,children:[Object(h.jsx)("option",{value:"",children:"-- Seleccione --"}),Object(h.jsx)("option",{value:"HabitacionSimple",children:"Habitacion Simple"}),Object(h.jsx)("option",{value:"Habitacion Doble",children:"Habitacion Doble"}),Object(h.jsx)("option",{value:"Suite",children:"Suite"}),Object(h.jsx)("option",{value:"Habitacion Triple",children:"Habitacion Triple"}),Object(h.jsx)("option",{value:"Suite presidencial",children:"Suite Presidencial"}),Object(h.jsx)("option",{value:"Habitacion sencilla",children:"Habitacion Sencilla"})]})]}),f.touched.categoria&&f.errors.categoria?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.categoria})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descripcion",children:"Descripcion"}),Object(h.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-40",id:"descripcion",placeholder:"Descripcion de habitacion",value:f.values.descripcion,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.descripcion&&f.errors.descripcion?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.descripcion})}):null,Object(h.jsx)("input",{type:"submit",className:"bg-blue-800 hover:bg-blue-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar Habitacion"})]})})})]})},F=function(){return Object(h.jsx)("div",{className:"md:w-2/5 xl:w-1/5 bg-blue-800",children:Object(h.jsxs)("div",{className:"p-6",children:[Object(h.jsx)("p",{className:"uppercase text-white text-2xl tracking-wide text-center font-bold",children:" Hosteria"}),Object(h.jsx)("p",{className:"mt-3 text-black-600",children:":"}),Object(h.jsxs)("nav",{className:"mt-10",children:[Object(h.jsx)(g.c,{className:"p-1 text-gray-400 block hover:bg-gray-500 hover: text-gray-500",activeClassName:"text-white-500",exact:"true",to:"/Menu",children:"Menu"}),Object(h.jsx)(g.c,{className:"p-1 text-gray block hover:bg-gray-500 hover: text-gray-500",activeClassName:"text-white-500",exact:"true",to:"/",children:"Reservas"}),Object(h.jsx)(g.c,{className:"p-1 text-gray block hover:bg-gray-500 hover: text-gray-500",activeClassName:"text-white-500",exact:"true",to:"/promociones",children:"Promociones"}),Object(h.jsx)(g.c,{className:"p-1 text-gray block hover:bg-gray-500 hover: text-gray-500",activeClassName:"text-white-500",exact:"true",to:"/actividades",children:"Actividades"})]})]})})},B=function(e){var a=e.habitacion,t=Object(c.useRef)(a.existencia),n=Object(c.useContext)(b).firebase,r=a.id,o=a.Titulo,l=a.existencia,s=a.Imagen,i=a.Cantidad,d=a.f_inicial,u=a.f_final;return Object(h.jsx)("div",{className:"w-full px-3 mb-4",children:Object(h.jsx)("div",{className:"p-5 shadow-md bg-white",children:Object(h.jsxs)("div",{className:"lg:flex",children:[Object(h.jsxs)("div",{className:"lg:w-5/12 xl:w-3/12",children:[Object(h.jsx)("img",{src:s,alt:"imagen habitacion"}),Object(h.jsx)("div",{className:"sm:flex sm:-mx-2 pl-2",children:Object(h.jsxs)("label",{className:"block mt-5 sm:w-2/4",children:[Object(h.jsx)("span",{className:"block text-gray-800 mb-2",children:"Existencia"}),Object(h.jsxs)("select",{className:"bg-white shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",value:l,ref:t,onChange:function(){return function(){var e="true"===t.current.value;try{n.db.collection("Promociones").doc(r).update({existencia:e})}catch(a){console.log(a)}}()},children:[Object(h.jsx)("option",{value:"true",children:"Disponible"}),Object(h.jsx)("option",{value:"false",children:"No Disponible"})]})]})})]}),Object(h.jsxs)("div",{className:"lg:w-7/12 xl:w-9/12 pl-5",children:[Object(h.jsx)("p",{className:"font-bold text-2xl text-gray-800 mb-4",children:o}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Cantidad de descuento: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:[" ",i," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Fecha de Inicio: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",d," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Fecha Final: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",u," "]})]})]})]})})})},I=function(){var e=Object(c.useState)([]),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(c.useContext)(b).firebase;function o(e){var a=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));n(a)}return Object(c.useEffect)((function(){r.db.collection("Promociones").onSnapshot(o)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4",children:"menu"}),Object(h.jsx)(g.b,{to:"/NuevoPromocion",className:"bg-blue-800 hover:bg-blue-700, inline-block mb-5 p-2 text-white uppercase font-bold",children:"Agregar Promocion"}),t.map((function(e){return Object(h.jsx)(B,{habitacion:e},e.id)}))]})},T=function(){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(c.useState)(0),l=Object(j.a)(r,2),s=l[0],i=l[1],d=Object(c.useState)(""),u=Object(j.a)(d,2),m=u[0],x=u[1],p=Object(c.useContext)(b).firebase,g=Object(o.g)(),f=Object(y.a)({initialValues:{Titulo:"",Duracion:"",Imagen:"",Descripcion:"",f_final:"",f_inicial:"",Cantidad:""},validationSchema:C.b({Titulo:C.c().min(3,"El Titulo de la promocion deben tener al menos 3 caracteres").required("El Titulo de la promocion es obligatorio"),Descripcion:C.c().min(3,"La Descripcion de la promocion deben tener al menos 3 caracteres").required("El Descripcion de la promocion es obligatorio"),Duracion:C.a().min(1,"Debes agregar un numero").required("La duracion de la promocion es obligatorio"),f_inicial:C.c().required("La fecha de cuando inicia la promocion es obligatorio"),f_final:C.c().required("La fecha de cuando termina la promocion es obligatorio"),Cantidad:C.c().required("La cantidad de descuento es obligatorio")}),onSubmit:function(e){try{e.existencia=!0,e.Imagen=m,p.db.collection("Promociones").add(e),g("/promociones")}catch(a){console.log(a)}}}),O=function(){var e=Object(w.a)(N.a.mark((function e(a){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(100),n(!1),e.next=4,p.storage.ref("Promociones").child(a).getDownloadURL();case 4:t=e.sent,console.log(t),x(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4"}),Object(h.jsx)("div",{className:"flex justify-center mt-10",children:Object(h.jsx)("div",{className:"w-full max-w-3xl ",children:Object(h.jsxs)("form",{onSubmit:f.handleSubmit,children:[Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Titulo",children:"Titulo de la Promocion"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Titulo",type:"text",placeholder:"Titulo de la Promocion",value:f.values.Titulo,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Titulo&&f.errors.Titulo?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Titulo})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"f_inicial",children:"fecha de inicio de la promocion"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"f_inicial",type:"text",placeholder:"Fecha Inicial de la Promocion",value:f.values.f_inicial,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.f_inicial&&f.errors.f_inicial?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.f_inicial})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"f_final",children:"Fecha final de la promocion"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"f_final",type:"text",placeholder:"Fecha final de la promcion",value:f.values.f_final,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.f_final&&f.errors.f_final?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.f_final})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Duracion",children:"Duracion de la Promocion"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Duracion",type:"number",placeholder:"Ingresar el Duracion de la promocion",min:"0",value:f.values.Duracion,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Duracion&&f.errors.Duracion?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Duracion})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Cantidad",children:"Cantidad de Descuento"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Cantidad",type:"number",placeholder:"Cantidad de descuento",min:"0",value:f.values.Cantidad,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Cantidad&&f.errors.Cantidad?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Cantidad})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"imagen",children:"Imagen/"}),Object(h.jsx)(S.a,{accept:"image/*",id:"Imagen",name:"Imagen",randomizeFilename:!0,storageRef:p.storage.ref("Promociones"),onUploadStart:function(){i(0),n(!0)},onUploadError:function(e){n(!1),console.log(e)},onUploadSuccess:O,onProgress:function(e){i(e),console.log(e)}})]}),t&&Object(h.jsx)("div",{className:"h-12 relative w-full border",children:Object(h.jsxs)("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",style:{width:"${progreso}%"},children:[s," %"]})}),m&&Object(h.jsx)("p",{className:"bg-green-500 text-white p-3 text-center my-5",children:"La imagen se subio correctamente"}),Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descripcion",children:"Descripcion"}),Object(h.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-40",id:"Descripcion",placeholder:"Descripcion de habitacion",value:f.values.Descripcion,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Descripcion&&f.errors.Descripcion?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Descripcion})}):null,Object(h.jsx)("input",{type:"submit",className:"bg-blue-800 hover:bg-blue-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar Promocion"})]})})})]})},A=function(e){var a=e.habitacion,t=Object(c.useRef)(a.existencia),n=Object(c.useContext)(b).firebase,r=a.id,o=a.Capacidad,l=a.Descripcion,s=a.Imagen,i=a.Duracion,d=a.Hora,u=a.Titulo,m=a.fechaInicio,j=a.existencia;return Object(h.jsx)("div",{className:"w-full px-3 mb-4",children:Object(h.jsx)("div",{className:"p-5 shadow-md bg-white",children:Object(h.jsxs)("div",{className:"lg:flex",children:[Object(h.jsxs)("div",{className:"lg:w-5/12 xl:w-3/12",children:[Object(h.jsx)("img",{src:s,alt:"imagen habitacion"}),Object(h.jsx)("div",{className:"sm:flex sm:-mx-2 pl-2",children:Object(h.jsxs)("label",{className:"block mt-5 sm:w-2/4",children:[Object(h.jsx)("span",{className:"block text-gray-800 mb-2",children:"Existencia"}),Object(h.jsxs)("select",{className:"bg-white shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",value:j,ref:t,onChange:function(){return function(){var e="true"===t.current.value;try{n.db.collection("Actividades").doc(r).update({existencia:e})}catch(a){console.log(a)}}()},children:[Object(h.jsx)("option",{value:"true",children:"Disponible"}),Object(h.jsx)("option",{value:"false",children:"No Disponible"})]})]})})]}),Object(h.jsxs)("div",{className:"lg:w-7/12 xl:w-9/12 pl-5",children:[Object(h.jsx)("p",{className:"font-bold text-2xl text-gray-800 mb-4",children:u}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Capacidad: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:[" ",o," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Fecha de Inicio: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",m," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Duracion: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",i," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Titulo: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",u," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Descripcion: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",l," "]})]}),Object(h.jsxs)("p",{className:"text-gray-600 mb-4",children:["Hora: ","",Object(h.jsxs)("span",{className:"text-gray-700 font-bold",children:["  ",d," "]})]})]})]})})})},P=function(){var e=Object(c.useState)([]),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(c.useContext)(b).firebase;function o(e){var a=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));n(a)}return Object(c.useEffect)((function(){r.db.collection("Actividades").onSnapshot(o)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4",children:"menu"}),Object(h.jsx)(g.b,{to:"/NuevoActividades",className:"bg-blue-800 hover:bg-blue-700, inline-block mb-5 p-2 text-white uppercase font-bold",children:"Agregar Actividad"}),t.map((function(e){return Object(h.jsx)(A,{habitacion:e},e.id)}))]})},H=function(){var e=Object(c.useState)(!1),a=Object(j.a)(e,2),t=a[0],n=a[1],r=Object(c.useState)(0),l=Object(j.a)(r,2),s=l[0],i=l[1],d=Object(c.useState)(""),u=Object(j.a)(d,2),m=u[0],x=u[1],p=Object(c.useContext)(b).firebase,g=Object(o.g)(),f=Object(y.a)({initialValues:{Capacidad:"",Descripcion:"",Duracion:"",Imagen:"",Hora:"",Titulo:"",fechaInicio:""},validationSchema:C.b({Capacidad:C.c().min(1,"La Capacidad de la promocion deben tener al menos 3 caracteres").required("La Capacidad de la promocion es obligatorio"),Descripcion:C.c().min(10,"Debes agregar una descripcion").required("La descripcion es obligatoria"),fechaInicio:C.c().required("La fecha de cuando inicia la actividad es obligatorio"),Titulo:C.c().required("El titulo de la actividad es obligatoria"),Hora:C.c().required("La hora de la actividad es obligatoria"),Duracion:C.c().required("La duracion de la actividad es obligatoria")}),onSubmit:function(e){try{e.existencia=!0,e.Imagen=m,p.db.collection("Actividades").add(e),g("/Actividades")}catch(a){console.log(a)}}}),O=function(){var e=Object(w.a)(N.a.mark((function e(a){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(100),n(!1),e.next=4,p.storage.ref("Actividades").child(a).getDownloadURL();case 4:t=e.sent,console.log(t),x(t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"text-3xl font-light mb-4"}),Object(h.jsx)("div",{className:"flex justify-center mt-10",children:Object(h.jsx)("div",{className:"w-full max-w-3xl ",children:Object(h.jsxs)("form",{onSubmit:f.handleSubmit,children:[Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Titulo",children:"Titulo de la Actividad"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Titulo",type:"text",placeholder:"Nombre de la Actividad",value:f.values.Titulo,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Titulo&&f.errors.Titulo?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Titulo})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"fechaInicio",children:"fecha de inicio de la promocion"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"fechaInicio",type:"text",placeholder:"Fecha Inicial de la Actividad",value:f.values.fechaInicio,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.fechaInicio&&f.errors.fechaInicio?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.fechaInicio})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Duracion",children:"Duracion de la actividad"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Duracion",type:"text",placeholder:"Duracion de la Actividad",value:f.values.Duracion,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Duracion&&f.errors.Duracion?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Duracion})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Hora",children:"Hora de la Actividad"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Hora",type:"text",placeholder:"Ingresar la hora de la actividad",min:"0",value:f.values.Hora,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Hora&&f.errors.Hora?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Hora})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Capacidad",children:"Capacidad de la Actividad"}),Object(h.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Capacidad",type:"number",placeholder:"Numero de personas disponible de la actividad",min:"0",value:f.values.Capacidad,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Capacidad&&f.errors.Capacidad?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Capacidad})}):null,Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Imagen",children:"Imagen/"}),Object(h.jsx)(S.a,{accept:"image/*",id:"Imagen",name:"Imagen",randomizeFilename:!0,storageRef:p.storage.ref("Actividades"),onUploadStart:function(){i(0),n(!0)},onUploadError:function(e){n(!1),console.log(e)},onUploadSuccess:O,onProgress:function(e){i(e),console.log(e)}})]}),t&&Object(h.jsx)("div",{className:"h-12 relative w-full border",children:Object(h.jsxs)("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",style:{width:"${progreso}%"},children:[s," %"]})}),m&&Object(h.jsx)("p",{className:"bg-green-500 text-white p-3 text-center my-5",children:"La imagen se subio correctamente"}),Object(h.jsxs)("div",{className:"mb-4",children:[Object(h.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Descripcion",children:"Descripcion"}),Object(h.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-40",id:"Descripcion",placeholder:"Descripcion de la Actividad",value:f.values.Descripcion,onChange:f.handleChange,onBlur:f.handleBlur})]}),f.touched.Descripcion&&f.errors.Descripcion?Object(h.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5",role:"alert",children:Object(h.jsx)("p",{children:f.errors.Descripcion})}):null,Object(h.jsx)("input",{type:"submit",className:"bg-blue-800 hover:bg-blue-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar Promocion"})]})})})]})};var L=function(){return Object(h.jsx)(b.Provider,{value:{firebase:u},children:Object(h.jsxs)("div",{className:"md:flex min-h-screen",children:[Object(h.jsx)(F,{}),Object(h.jsx)("div",{className:"md:w-3/5 xl:w-4/5 p-6",children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",element:Object(h.jsx)(p,{})}),Object(h.jsx)(o.a,{path:"/Menu",element:Object(h.jsx)(O,{})}),Object(h.jsx)(o.a,{path:"/NuevoRoom",element:Object(h.jsx)(k,{})}),Object(h.jsx)(o.a,{path:"/promociones",element:Object(h.jsx)(I,{})}),Object(h.jsx)(o.a,{path:"/NuevoPromocion",element:Object(h.jsx)(T,{})}),Object(h.jsx)(o.a,{path:"/Actividades",element:Object(h.jsx)(P,{})}),Object(h.jsx)(o.a,{path:"/NuevoActividades",element:Object(h.jsx)(H,{})})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(h.jsx)(g.a,{children:Object(h.jsx)(L,{})}),document.getElementById("root"))},89:function(e,a,t){}},[[200,1,2]]]);
//# sourceMappingURL=main.7df72d59.chunk.js.map